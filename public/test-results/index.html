<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:10,&quot;tests&quot;:10,&quot;passes&quot;:10,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2019-08-08T19:08:19.562Z&quot;,&quot;end&quot;:&quot;2019-08-08T19:08:19.604Z&quot;,&quot;duration&quot;:42,&quot;testsRegistered&quot;:10,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;60b9d732-ea7d-4973-b2ef-60484af383ae&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9c678afc-805a-4867-9edb-f7b083e38ad7&quot;,&quot;title&quot;:&quot;Expected facts&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/test/test.10.fact.ts&quot;,&quot;file&quot;:&quot;/test/test.10.fact.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;must be derived&quot;,&quot;fullTitle&quot;:&quot;Expected facts must be derived&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fact = new fact_1.default({\n    dataType: \&quot;string\&quot;,\n    rule: {\n        name: \&quot;LastName\&quot;,\n        statedAs: `const d=[];d.forEach(function(dd) {console.log(dd + PickingUpThisVar);\n    });console.log(VarAsArg);console.log(Parameter1Var + Parameter2Var); \n    UndefinedVarAssignment = 888; const x = 123;let xx = 123;\n    VarOfObject.Name + &#x27; &#x27; + VarOfObject.LastName.length + &#x27;;&#x27; + VarConstant + oop();\n    function s (x) {const a = x;VarInFunction=44}theResultIs(1234);`\n    }\n});\nchai_1.expect(fact.rule &amp;&amp; fact.rule.expectedFacts().toString()).to.equal(`Parameter1Var,Parameter2Var,PickingUpThisVar,UndefinedVarAssignment,VarAsArg,VarConstant,VarInFunction,VarOfObject,oop`);\nconst sit = new aggregate_1.default(undefined, {\n    \&quot;id\&quot;: 1001961417934,\n    \&quot;name\&quot;: \&quot;Names\&quot;,\n    \&quot;version\&quot;: { major: 1, minor: 0, patch: 0 },\n    \&quot;facts\&quot;: [\n        {\n            dataType: \&quot;string\&quot;,\n            \&quot;path\&quot;: \&quot;Person.FullName\&quot;,\n            \&quot;rule\&quot;: {\n                \&quot;id\&quot;: 1001258227052,\n                \&quot;name\&quot;: \&quot;FullName\&quot;,\n                \&quot;description\&quot;: \&quot;Full name of a person\&quot;,\n                \&quot;title\&quot;: \&quot;Full name\&quot;,\n                \&quot;statedAs\&quot;: \&quot;FirstName + \\\&quot; \\\&quot; + LastName\&quot;\n            }\n        },\n        {\n            dataType: \&quot;string\&quot;,\n            \&quot;path\&quot;: \&quot;Mirror.FullName\&quot;,\n            \&quot;rule\&quot;: {\n                \&quot;id\&quot;: 1001661904664,\n                \&quot;name\&quot;: \&quot;FullNameReverse\&quot;,\n                \&quot;description\&quot;: \&quot;Full Name Reversed\&quot;,\n                \&quot;title\&quot;: \&quot;Reverse Fullname\&quot;,\n                \&quot;statedAs\&quot;: \&quot;LastName + \\\&quot; \\\&quot; + FirstName\&quot;\n            }\n        }\n    ],\n    \&quot;description\&quot;: \&quot;Names collection\&quot;\n});\nconst engine = new engine_1.RulesEngine(sit.getRules(), {\n    FirstName: \&quot;Uncle\&quot;,\n    LastName: \&quot;Bob\&quot;\n}, \&quot;test\&quot;, \&quot;1.0\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5df18a30-70d0-452c-9a90-3d00b45f418f&quot;,&quot;parentUUID&quot;:&quot;9c678afc-805a-4867-9edb-f7b083e38ad7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5df18a30-70d0-452c-9a90-3d00b45f418f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:17,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fad69f57-0b6b-4d3a-8c1b-2320c975220e&quot;,&quot;title&quot;:&quot;When a fact has a definition&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/test/test.10.fact.ts&quot;,&quot;file&quot;:&quot;/test/test.10.fact.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;isn&#x27;t expected&quot;,&quot;fullTitle&quot;:&quot;When a fact has a definition isn&#x27;t expected&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fact = new fact_1.default({\n    dataType: \&quot;string\&quot;,\n    rule: {\n        name: \&quot;LastName\&quot;,\n        statedAs: `123`\n    }\n});\nchai_1.expect(fact.rule &amp;&amp; fact.rule.expectedFacts().length).to.equal(0);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;df39eb4d-344e-4089-8535-ae20a815609d&quot;,&quot;parentUUID&quot;:&quot;fad69f57-0b6b-4d3a-8c1b-2320c975220e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;df39eb4d-344e-4089-8535-ae20a815609d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7aacfaa4-a68b-45d1-9f46-3ac4bcba18b7&quot;,&quot;title&quot;:&quot;When a fact requires a fact in the definition&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/test/test.10.fact.ts&quot;,&quot;file&quot;:&quot;/test/test.10.fact.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;is expected to have 1 fact&quot;,&quot;fullTitle&quot;:&quot;When a fact requires a fact in the definition is expected to have 1 fact&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fact = new fact_1.default({\n    dataType: \&quot;string\&quot;,\n    rule: {\n        name: \&quot;AgeTitle\&quot;,\n        statedAs: `Age + \&quot;years old\&quot;`\n    }\n});\nchai_1.expect(fact.rule &amp;&amp; fact.rule.expectedFacts().length).to.equal(1);\nchai_1.expect(fact.rule &amp;&amp; fact.rule.expectedFacts()[0]).to.equal(\&quot;Age\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac87200f-8be9-46f8-86ac-432805a1dc8e&quot;,&quot;parentUUID&quot;:&quot;7aacfaa4-a68b-45d1-9f46-3ac4bcba18b7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ac87200f-8be9-46f8-86ac-432805a1dc8e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fa98466b-3ff3-486b-9539-3140583238e6&quot;,&quot;title&quot;:&quot;The generated rule&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/test/test.10.fact.ts&quot;,&quot;file&quot;:&quot;/test/test.10.fact.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return the result&quot;,&quot;fullTitle&quot;:&quot;The generated rule should return the result&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const fact = new fact_1.default({\n    dataType: \&quot;string\&quot;,\n    rule: {\n        name: \&quot;Person.Name\&quot;,\n        statedAs: `\&quot;Hermanus\&quot;`\n    }\n});\nchai_1.expect(fact.rule &amp;&amp; fact.rule.getRule()).to.equal(`theResultIs(\&quot;Hermanus\&quot;);`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45924e99-aa4a-4a20-8371-4992814c036b&quot;,&quot;parentUUID&quot;:&quot;fa98466b-3ff3-486b-9539-3140583238e6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;45924e99-aa4a-4a20-8371-4992814c036b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ad83fe30-1d3b-4585-bb37-9ff6694e1447&quot;,&quot;title&quot;:&quot;Check Schema MD5 Version&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/test/test.20.decision-object.ts&quot;,&quot;file&quot;:&quot;/test/test.20.decision-object.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a valid MD5 hex&quot;,&quot;fullTitle&quot;:&quot;Check Schema MD5 Version should return a valid MD5 hex&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const decisionObject = new aggregate_1.default(undefined, {\n    name: \&quot;Rules\&quot;,\n    version: { major: 1, minor: 0, patch: 0 },\n    decisionObjectType: \&quot;RuleSet\&quot;,\n    facts: [\n        {\n            dataType: \&quot;string\&quot;,\n            rule: {\n                name: \&quot;FullName\&quot;,\n                statedAs: `FirstName + \&quot; \&quot; + LastName`\n            }\n        }\n    ]\n});\nchai_1.expect(decisionObject.schemaVersion().toString())\n    .to\n    .equal(`4335e36b8f49bc0d2b17e5cdc46821d6`);\ndecisionObject.facts[0].path = \&quot;Changed\&quot;;\nchai_1.expect(decisionObject.schemaVersion().toString())\n    .to\n    .not\n    .equal(`ce75249a4b0cddbc4a7ab8a3864b1314`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f62f62b4-83ac-42d2-bd6c-edb2bb8f4056&quot;,&quot;parentUUID&quot;:&quot;ad83fe30-1d3b-4585-bb37-9ff6694e1447&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f62f62b4-83ac-42d2-bd6c-edb2bb8f4056&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8fbe00b9-6bc0-40c3-997a-751f4eeda409&quot;,&quot;title&quot;:&quot;Implicit Facts&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/test/test.20.decision-object.ts&quot;,&quot;file&quot;:&quot;/test/test.20.decision-object.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be stated as expected and missing&quot;,&quot;fullTitle&quot;:&quot;Implicit Facts should be stated as expected and missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const aggregate = new aggregate_1.default(undefined, {\n    name: \&quot;Rules\&quot;,\n    version: { major: 1, minor: 0, patch: 0 },\n    decisionObjectType: \&quot;RuleSet\&quot;,\n    facts: [\n        {\n            dataType: \&quot;string\&quot;,\n            rule: {\n                name: \&quot;FullName\&quot;,\n                statedAs: `FirstName + \&quot; \&quot; + LastName`\n            }\n        }\n    ]\n});\nchai_1.expect(JSON.stringify(aggregate.missingExpectedFacts()))\n    .to\n    .equal(`[{\&quot;name\&quot;:\&quot;FirstName\&quot;,\&quot;expectedBy\&quot;:[\&quot;FullName\&quot;]},{\&quot;name\&quot;:\&quot;LastName\&quot;,\&quot;expectedBy\&quot;:[\&quot;FullName\&quot;]}]`);\nif (aggregate.facts[0] &amp;&amp; aggregate.facts[0].pathMapping) {\n    aggregate.facts[0].pathMapping.push({\n        replaceName: \&quot;FirstName\&quot;,\n        withPath: \&quot;firstname\&quot;\n    });\n}\nchai_1.expect(JSON.stringify(aggregate.missingExpectedFacts()))\n    .to\n    .equal(`[{\&quot;name\&quot;:\&quot;firstname\&quot;,\&quot;expectedBy\&quot;:[\&quot;FullName\&quot;]},{\&quot;name\&quot;:\&quot;LastName\&quot;,\&quot;expectedBy\&quot;:[\&quot;FullName\&quot;]}]`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7e9b8990-d25b-49df-aa83-3ec16823a944&quot;,&quot;parentUUID&quot;:&quot;8fbe00b9-6bc0-40c3-997a-751f4eeda409&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7e9b8990-d25b-49df-aa83-3ec16823a944&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0e335734-c92b-48ee-833e-c34e1e613307&quot;,&quot;title&quot;:&quot;Sample Json&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/test/test.20.decision-object.ts&quot;,&quot;file&quot;:&quot;/test/test.20.decision-object.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be stated as expected and missing&quot;,&quot;fullTitle&quot;:&quot;Sample Json should be stated as expected and missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const decisionObject = new aggregate_1.default(undefined, {\n    name: \&quot;Rules\&quot;,\n    version: { major: 1, minor: 0, patch: 0 },\n    decisionObjectType: \&quot;RuleSet\&quot;,\n    facts: [\n        {\n            dataType: \&quot;string\&quot;,\n            rule: {\n                name: \&quot;LastName\&quot;,\n                sampleValue: \&quot;InAction\&quot;\n            }\n        },\n        {\n            dataType: \&quot;string\&quot;,\n            path: \&quot;MiddleName\&quot;\n        },\n        {\n            dataType: \&quot;string\&quot;,\n            rule: {\n                name: \&quot;FullName\&quot;,\n                statedAs: `FirstName + \&quot; \&quot; + LastName`\n            },\n            pathMapping: [{\n                    replaceName: \&quot;LastName\&quot;,\n                    withPath: \&quot;lastname\&quot;\n                }]\n        }\n    ]\n});\nconst x = new aggregate_1.default(undefined, {\n    \&quot;id\&quot;: 1001577399249,\n    \&quot;name\&quot;: \&quot;Birthday\&quot;,\n    \&quot;version\&quot;: { major: 1, minor: 0, patch: 0 },\n    \&quot;facts\&quot;: [\n        {\n            \&quot;dataType\&quot;: \&quot;string\&quot;,\n            rule: {\n                \&quot;id\&quot;: 1001808803078,\n                \&quot;name\&quot;: \&quot;StringDate\&quot;,\n                \&quot;description\&quot;: \&quot;Takes date and outputs a string formatted date\&quot;,\n                \&quot;statedAs\&quot;: \&quot;theResultIs(new Date(DateTime).toLocaleString())\&quot;,\n                \&quot;dataType\&quot;: \&quot;string\&quot;\n            },\n            \&quot;pathMapping\&quot;: [\n                {\n                    \&quot;withPath\&quot;: \&quot;Date\&quot;,\n                    \&quot;replaceName\&quot;: \&quot;Date\&quot;\n                },\n                {\n                    \&quot;withPath\&quot;: \&quot;DateTime\&quot;,\n                    \&quot;replaceName\&quot;: \&quot;DateTime\&quot;\n                }\n            ]\n        },\n        {\n            \&quot;dataType\&quot;: \&quot;string\&quot;,\n            \&quot;path\&quot;: \&quot;DateTime\&quot;,\n            \&quot;pathMapping\&quot;: []\n        }\n    ],\n    \&quot;description\&quot;: \&quot;Birthday\&quot;\n});\nconsole.log(x.sampleJson());\nconsole.log(x.getRules());\nchai_1.expect(decisionObject.sampleJson().FirstName)\n    .to\n    .equal(`missing`);\nchai_1.expect(decisionObject.sampleJson().LastName)\n    .to\n    .equal(`InAction`);\ndecisionObject.facts[0].path = \&quot;lastname\&quot;;\nchai_1.expect(decisionObject.sampleJson().lastname)\n    .to\n    .equal(`InAction`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;16ac6ad4-9851-4a83-893e-956e5a550d4a&quot;,&quot;parentUUID&quot;:&quot;0e335734-c92b-48ee-833e-c34e1e613307&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;16ac6ad4-9851-4a83-893e-956e5a550d4a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c1bf801d-5abe-4068-82e7-93313a6472f0&quot;,&quot;title&quot;:&quot;Implicit Facts&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/test/test.20.decision-object.ts&quot;,&quot;file&quot;:&quot;/test/test.20.decision-object.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be stated as expected and missing&quot;,&quot;fullTitle&quot;:&quot;Implicit Facts should be stated as expected and missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const aggregate = new aggregate_1.default(undefined, {\n    name: \&quot;Rules\&quot;,\n    version: { major: 1, minor: 0, patch: 0 },\n    decisionObjectType: \&quot;RuleSet\&quot;,\n    facts: [\n        {\n            dataType: \&quot;string\&quot;,\n            rule: {\n                name: \&quot;FullName\&quot;,\n                statedAs: `FirstName + space + LastName`\n            }\n        }\n    ]\n});\nconst engine = new engine_1.RulesEngine(aggregate.getRules(), {\n    FirstName: \&quot;Uncle\&quot;,\n    LastName: \&quot;Bob\&quot;\n}, \&quot;test\&quot;, \&quot;1.0\&quot;);\nconst result = engine.run({ withStats: false });\nchai_1.expect(result.FullName).to.equal(\&quot;Uncle Bob\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a36dda0-4d47-4c6e-9b47-4af0a0cbc300&quot;,&quot;parentUUID&quot;:&quot;c1bf801d-5abe-4068-82e7-93313a6472f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7a36dda0-4d47-4c6e-9b47-4af0a0cbc300&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8e4c9dcf-9ab1-4e09-858a-6f335adcb5b0&quot;,&quot;title&quot;:&quot;Path Mapping from BOM&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/test/test.20.decision-object.ts&quot;,&quot;file&quot;:&quot;/test/test.20.decision-object.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should pick up facts from paths and save result in a path&quot;,&quot;fullTitle&quot;:&quot;Path Mapping from BOM should pick up facts from paths and save result in a path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let aggregate = new aggregate_1.default(undefined, {\n    name: \&quot;Rules\&quot;,\n    version: { major: 2, minor: 0, patch: 0 },\n    decisionObjectType: \&quot;RuleSet\&quot;,\n    facts: [\n        {\n            dataType: \&quot;string\&quot;,\n            rule: {\n                name: \&quot;FullName\&quot;,\n                statedAs: `FirstName + space + LastName`\n            },\n            pathMapping: [{\n                    replaceName: \&quot;LastName\&quot;,\n                    withPath: \&quot;family.name\&quot;\n                }],\n            path: \&quot;results.fullname\&quot;\n        },\n        {\n            dataType: \&quot;string\&quot;,\n            rule: {\n                name: \&quot;FullName2\&quot;,\n                statedAs: `\&quot;My full name is: \&quot; + FullName`\n            },\n            pathMapping: [{\n                    replaceName: \&quot;FullName\&quot;,\n                    withPath: \&quot;results.fullname\&quot;\n                }],\n            path: \&quot;results.fullname2\&quot;\n        }\n    ]\n});\nconst engine = new engine_1.RulesEngine(aggregate.getRules(), {\n    FirstName: \&quot;Uncle\&quot;,\n    family: {\n        name: \&quot;Bob\&quot;\n    }\n}, \&quot;test\&quot;, \&quot;2.0\&quot;);\nconst result = engine.run({ withStats: true });\nchai_1.expect(result.results.fullname).to.equal(\&quot;Uncle Bob\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ff2f67cd-993b-4268-ac8b-3579d6e56be2&quot;,&quot;parentUUID&quot;:&quot;8e4c9dcf-9ab1-4e09-858a-6f335adcb5b0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ff2f67cd-993b-4268-ac8b-3579d6e56be2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a5066f62-3c9d-41a2-bbe8-ee5265699a2a&quot;,&quot;title&quot;:&quot;Applicant and Spouse Email&quot;,&quot;fullFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/test/test.20.decision-object.ts&quot;,&quot;file&quot;:&quot;/test/test.20.decision-object.ts&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should be stated as expected and missing&quot;,&quot;fullTitle&quot;:&quot;Applicant and Spouse Email should be stated as expected and missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const aggregate = new aggregate_1.default(undefined, debt_review_type_1.debtReviewType);\nconst engine = new engine_1.RulesEngine(aggregate.getRules(), {\n    DebtReviewType: \&quot;\&quot;\n}, \&quot;test\&quot;, \&quot;1.0\&quot;);\nlet result = engine.run({ withStats: false });\nconsole.log(\&quot;=== Invalid Case\&quot;);\nconsole.table(result);\nchai_1.expect(result.valid).to.equal(false);\nresult = engine.withBom({ DebtReviewType: \&quot;SpouseOnly\&quot; }).run();\nconsole.log(\&quot;=== Valid Case\&quot;);\nconsole.table(result);\nchai_1.expect(result.valid).to.equal(true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c40b5683-3dfa-489c-94fe-54c6b18f5485&quot;,&quot;parentUUID&quot;:&quot;a5066f62-3c9d-41a2-bbe8-ee5265699a2a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;c40b5683-3dfa-489c-94fe-54c6b18f5485&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;6.1.4&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;index&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;useInlineDiffs&quot;:false},&quot;version&quot;:&quot;4.0.0&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;public/test-results&quot;,&quot;reportFilename&quot;:&quot;index&quot;},&quot;version&quot;:&quot;4.0.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;index&quot;,&quot;reportDir&quot;:&quot;public/test-results&quot;,&quot;reportTitle&quot;:&quot;omni.engine&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;public/test-results/assets&quot;,&quot;jsonFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/public/test-results/index.json&quot;,&quot;htmlFile&quot;:&quot;/Users/hgeldenhuys/Documents/GitHub/omni.engine/public/test-results/index.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>